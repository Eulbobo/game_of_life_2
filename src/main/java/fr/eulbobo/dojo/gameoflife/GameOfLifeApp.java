package fr.eulbobo.dojo.gameoflife;

import fr.eulbobo.dojo.gameoflife.domain.GameOfLife;
import fr.eulbobo.dojo.gameoflife.primary.generator.StringCellGenerator;
import fr.eulbobo.dojo.gameoflife.secondary.display.StringCellDisplay;

public class GameOfLifeApp {

    public static void main(String[] args) throws InterruptedException {
        System.out.println("|----------------|");
        System.out.println("|  Game of Life  |");
        System.out.println("|----------------|");

        GameOfLife gameOfLife = GameOfLife.from(new StringCellGenerator("""
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ................O..............O....................
                ...............O.O.OOOOOOOOOO.O.O...................
                ................O.O..........O.O....................
                .................O...O....O...O.....................
                ..................O..........O......................
                ...................OOOOOOOOOO.......................
                ..................O..........O......................
                ...................OOOOOOOOOO.......................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                ....................................................
                """, 'O'));
        StringCellDisplay cellDisplay = new StringCellDisplay('O', '.');
        do {
            gameOfLife.displayTo(cellDisplay);
            cellDisplay.printTo(System.out::println);
            gameOfLife.next();
            Thread.sleep(500);
            System.out.println("-------------------");
        } while (true);

    }
}